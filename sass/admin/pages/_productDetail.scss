/* SCSS Variables (giữ nguyên từ phiên bản trước) */
$primary-color: #1976d2;
$primary-hover: #1565c0;
$secondary-color: #424242;
$success-color: #4caf50;
$danger-color: #f44336;
$warning-color: #ff9800;
$info-color: #2196f3;

$background-light: #fafafa;
$background-white: #ffffff;
$border-color: #e0e0e0;
$border-radius: 8px;
$border-radius-small: 4px;

$text-primary: #212121;
$text-secondary: #757575;
$text-muted: #9e9e9e;

$shadow-light: 0 2px 4px rgba(0, 0, 0, 0.1);
$shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.15);
$shadow-heavy: 0 8px 24px rgba(0, 0, 0, 0.2);

$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 16px;
$spacing-lg: 24px;
$spacing-xl: 32px;
$spacing-xxl: 48px;

$font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
   sans-serif;
$font-size-xs: 12px;
$font-size-sm: 14px;
$font-size-base: 16px;
$font-size-lg: 18px;
$font-size-xl: 20px;
$font-size-xxl: 24px;

.product-detail {
   &__box-preview {
      width: 100%;
   }

   &__disabled-input {
      pointer-events: none;
   }

   &__media-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 60px;
      height: 60px;
      background-color: white;
      border: 1px solid #d1d5db;
      border-radius: 12px;
      box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      transition: all 0.2s ease;

      &:hover {
         box-shadow: 0 0 6px rgba(0, 0, 0, 0.2);
      }

      &__icon {
         font-size: 16px;
         margin-bottom: 5px;
         color: #6b7280; // hoặc dùng svg nếu cần
      }

      &__label {
         font-size: 13px;
         color: #1f2937;
      }
   }

   &__gallery-item {
      gap: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
   }

   padding: 10px 30px;
   &__container {
      width: 100%;
   }

   &__admin-title {
      font-size: $font-size-xl;
      font-weight: 600;
      color: $text-primary;
      display: flex;
      align-items: center;
      gap: $spacing-sm;
   }

   &__admin-actions {
      display: flex;
      gap: $spacing-sm;
   }

   /* Header */
   &__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid $border-color;

      .product-detail__back-btn,
      .product-detail__edit-btn {
         display: flex;
         align-items: center;
         gap: $spacing-xs;
         padding: $spacing-sm $spacing-md;
         border: 1px solid $border-color;
         border-radius: $border-radius-small;
         background-color: $background-white;
         color: $text-secondary;
         cursor: pointer;
         font-size: $font-size-sm;
         transition: all 0.3s ease;

         &:hover {
            background-color: $background-light;
            border-color: darken($border-color, 10%);
         }

         i {
            font-size: $font-size-xs;
         }
      }

      .product-detail__edit-btn {
         background-color: $primary-color;
         color: white;
         border-color: $primary-color;

         &:hover {
            background-color: $primary-hover;
            border-color: $primary-hover;
         }
      }
   }

   &__title {
      font-size: $font-size-xl;
      font-weight: 600;
      margin-bottom: $spacing-lg;
      color: $text-primary;
   }

   &__content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: $spacing-xl;
      margin-bottom: $spacing-xl;

      @media (max-width: 768px) {
         grid-template-columns: 1fr;
         gap: $spacing-lg;
      }
   }

   /* Gallery Section */
   &__gallery {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
   }

   &__main-image {
      position: relative;
      width: 100%;
      height: 400px;
      background-color: #000;
      border-radius: $border-radius;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;

      @media (max-width: 768px) {
         height: 300px;
      }
   }

   &__image {
      width: 100%;
      height: 100%;
      object-fit: cover;
   }

   &__image-overlay {
      position: absolute;
      top: $spacing-md;
      left: $spacing-md;
      color: white;
      z-index: 2;

      .product-detail__overlay-text {
         display: flex;
         flex-direction: column;
         gap: $spacing-xs;

         .product-detail__overlay-line {
            font-size: $font-size-lg;
            font-weight: 300;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
         }
      }
   }

   &__thumbnails {
      display: flex;
      align-items: center;
      gap: $spacing-xs;
      padding: 0 $spacing-xs;

      @media (max-width: 768px) {
         padding: 0 $spacing-xs / 2;
      }
   }

   &__nav-btn {
      width: 30px;
      height: 30px;
      border: 1px solid $border-color;
      border-radius: 50%;
      background-color: $background-white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: $text-secondary;
      transition: all 0.3s ease;

      &:hover {
         background-color: $background-light;
         border-color: darken($border-color, 10%);
      }

      i {
         font-size: $font-size-xs;
      }
   }

   &__thumbnail-list {
      display: flex;
      gap: $spacing-xs;
      overflow-x: auto;
      flex: 1;
      padding: 0 $spacing-xs / 2;

      @media (max-width: 768px) {
         gap: $spacing-xs / 2;
      }
   }

   &__thumbnail-item {
      flex-shrink: 0;
      width: 60px;
      height: 50px;
      border: 2px solid transparent;
      border-radius: $border-radius-small;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
      background-color: $background-light;

      &--active {
         border-color: $primary-color;
      }

      &:hover {
         border-color: darken($border-color, 10%);
      }

      @media (max-width: 768px) {
         width: 50px;
         height: 40px;
      }
   }

   &__thumbnail-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
   }

   /* Product Info Section */
   &__info {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
   }

   &__product-title {
      font-size: $font-size-xl;
      font-weight: 600;
      color: $text-primary;
      line-height: 1.3;

      @media (max-width: 768px) {
         font-size: $font-size-lg;
      }
   }

   &__rating {
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
   }

   &__stars {
      display: flex;
      align-items: center;
      gap: $spacing-xs;

      .product-detail__star-number {
         font-size: $font-size-lg;
         font-weight: 600;
         color: #ff6b35;
      }

      .product-detail__star-icons {
         display: flex;
         gap: 2px;

         i {
            color: #ffc107;
            font-size: $font-size-sm;

            &.far {
               color: $text-muted;
            }
         }
      }
   }

   &__rating-details {
      display: flex;
      gap: $spacing-sm;
      font-size: $font-size-sm;
      color: $text-secondary;

      span {
         position: relative;

         &:not(:last-child)::after {
            content: "";
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 1px;
            height: 12px;
            background-color: $border-color;
         }
      }
   }

   &__specs-link {
      color: $primary-color;
      cursor: pointer;

      &:hover {
         text-decoration: underline;
      }
   }

   &__options {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
   }

   &__option-group {
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
   }

   &__option-label {
      font-size: $font-size-base;
      font-weight: 500;
      color: $text-primary;
   }

   &__color-options,
   &__storage-options {
      display: flex;
      gap: $spacing-xs;
   }

   &__color-option,
   &__storage-option {
      position: relative;
      padding: $spacing-xs $spacing-sm;
      border: 2px solid $border-color;
      border-radius: $border-radius-small;
      background-color: $background-white;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: $spacing-xs;

      &--active {
         border-color: $primary-color;
         background-color: rgba($primary-color, 0.1);
      }

      &:hover {
         border-color: darken($border-color, 10%);
      }

      .product-detail__color-name,
      .product-detail__storage-name {
         font-size: $font-size-sm;
         font-weight: 500;
      }

      .product-detail__discount-badge {
         background-color: $danger-color;
         color: white;
         font-size: $font-size-xs;
         padding: 2px $spacing-xs;
         border-radius: $border-radius-small;
         font-weight: 600;
      }
   }

   &__pricing {
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
      padding: $spacing-md 0;
      border-top: 1px solid $border-color;
      border-bottom: 1px solid $border-color;
   }

   &__price-label {
      font-size: $font-size-base;
      font-weight: 500;
      color: $text-primary;
   }

   &__price {
      font-size: $font-size-xxl;
      font-weight: 700;
      color: $danger-color;

      .product-detail__original-price {
         font-size: $font-size-lg;
         color: $text-muted;
         text-decoration: line-through;
         margin-right: $spacing-sm;
      }

      .product-detail__discounted-price {
         font-size: $font-size-xxl;
         font-weight: 700;
         color: $danger-color;
      }

      @media (max-width: 768px) {
         font-size: $font-size-xl;
      }
   }

   &__policies {
      display: flex;
      flex-direction: column;
      gap: $spacing-sm;
   }

   &__policy-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
   }

   &__policy-title {
      font-size: $font-size-base;
      font-weight: 500;
      color: $text-primary;
   }

   &__policy-toggle {
      background: none;
      border: none;
      color: $primary-color;
      cursor: pointer;
      font-size: $font-size-sm;

      &:hover {
         text-decoration: underline;
      }
   }

   &__policy-list {
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
   }

   &__policy-item {
      display: flex;
      align-items: center;
      gap: $spacing-sm;
      padding: $spacing-sm 0;

      i {
         color: $success-color;
         font-size: $font-size-base;
         width: $spacing-md;
         text-align: center;
      }
   }

   &__policy-content {
      flex: 1;
   }

   &__policy-text {
      font-size: $font-size-sm;
      color: $text-secondary;
   }

   /* Specifications Section */
   &__specifications {
      border-top: 1px solid $border-color;
      padding-top: $spacing-lg;
   }

   &__specs-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: $spacing-md;
   }

   &__specs-title {
      font-size: $font-size-lg;
      font-weight: 600;
      color: $text-primary;
   }

   &__specs-toggle {
      background: none;
      border: none;
      color: $primary-color;
      cursor: pointer;
      font-size: $font-size-sm;

      &:hover {
         text-decoration: underline;
      }
   }

   &__specs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: $spacing-sm;
   }

   &__spec-item {
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
      padding: $spacing-sm;
      background-color: $background-light;
      border-radius: $border-radius-small;
   }

   &__spec-label {
      font-size: $font-size-sm;
      color: $text-secondary;
      font-weight: 500;
   }

   &__spec-value {
      display: flex;
      align-items: center;
      gap: $spacing-xs;
      font-size: $font-size-base;
      font-weight: 600;
      color: $text-primary;

      i {
         color: $primary-color;
         font-size: $font-size-lg;
      }
   }

   /* Admin Panel */
   &__admin-panel {
      background: $background-white;
      border-radius: $border-radius;
      box-shadow: $shadow-medium;
      overflow: hidden;
   }

   &__admin-form {
      display: flex;
      flex-direction: column;
   }

   &__admin-section {
      padding: $spacing-lg;
      border-bottom: 1px solid $border-color;

      &:last-child {
         border-bottom: none;
      }

      &-title {
         font-size: $font-size-lg;
         font-weight: 600;
         color: $text-primary;
         margin-bottom: $spacing-lg;
         display: flex;
         align-items: center;
         gap: $spacing-sm;

         i {
            color: $primary-color;
            font-size: $font-size-base;
         }
      }
   }

   &__form-group {
      margin-bottom: $spacing-md;

      &:last-child {
         margin-bottom: 0;
      }
   }

   &__form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: $spacing-md;

      @media (max-width: 768px) {
         grid-template-columns: 1fr;
      }
   }

   &__label {
      display: block;
      font-weight: 500;
      color: $text-primary;
      margin-bottom: $spacing-xs;
      font-size: $font-size-sm;
   }

   &__input {
      width: 100%;
      padding: $spacing-sm $spacing-md;
      border: 1px solid $border-color;
      border-radius: $border-radius-small;
      font-size: $font-size-base;
      transition: all 0.2s ease;

      &:focus {
         outline: none;
         border-color: $primary-color;
         box-shadow: 0 0 0 3px rgba($primary-color, 0.1);
      }

      &--small {
         flex: 1;
         min-width: 120px;
      }

      &[readonly] {
         background-color: $background-light;
         color: $text-muted;
      }
   }

   &__textarea {
      width: 100%;
      padding: $spacing-sm $spacing-md;
      border: 1px solid $border-color;
      border-radius: $border-radius-small;
      font-size: $font-size-base;
      font-family: inherit;
      resize: vertical;
      min-height: 80px;
      transition: all 0.2s ease;

      &:focus {
         outline: none;
         border-color: $primary-color;
         box-shadow: 0 0 0 3px rgba($primary-color, 0.1);
      }
   }

   &__select {
      width: 100%;
      padding: $spacing-sm $spacing-md;
      border: 1px solid $border-color;
      border-radius: $border-radius-small;
      font-size: $font-size-base;
      background-color: $background-white;
      cursor: pointer;
      transition: all 0.2s ease;

      &:focus {
         outline: none;
         border-color: $primary-color;
         box-shadow: 0 0 0 3px rgba($primary-color, 0.1);
      }
   }

   &__file-input {
      display: none;
   }

   &__color-picker {
      width: 40px;
      height: 40px;
      border: none;
      border-radius: $border-radius-small;
      cursor: pointer;
   }

   &__btn {
      display: inline-flex;
      align-items: center;
      width: fit-content;
      gap: $spacing-xs;
      padding: $spacing-sm $spacing-md;
      border: none;
      border-radius: $border-radius-small;
      font-size: $font-size-sm;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;

      &--primary {
         background-color: $primary-color;
         color: white;

         &:hover {
            background-color: $primary-hover;
            transform: translateY(-1px);
            box-shadow: $shadow-medium;
         }
      }

      &--secondary {
         background-color: $secondary-color;
         color: white;

         &:hover {
            background-color: darken($secondary-color, 10%);
            transform: translateY(-1px);
            box-shadow: $shadow-medium;
         }
      }

      &--outline {
         background-color: transparent;
         color: $primary-color;
         border: 1px solid $primary-color;

         &:hover {
            background-color: $primary-color;
            color: white;
            transform: translateY(-1px);
            box-shadow: $shadow-medium;
         }
      }

      &--danger-outline {
         background-color: transparent;
         color: $danger-color;
         border: 1px solid $danger-color;
         padding: 10px;

         &:hover {
            background-color: $danger-color;
            color: white;
         }
      }

      &--icon {
         width: 32px;
         height: 32px;
         padding: 0;
         display: flex;
         align-items: center;
         justify-content: center;
         background-color: rgba($primary-color, 0.1);
         color: $primary-color;
         border: none;

         &:hover {
            background-color: $primary-color;
            color: white;
         }
      }
   }

   &__image-upload {
      display: flex;
      gap: $spacing-md;
      align-items: flex-start;

      @media (max-width: 768px) {
         flex-direction: column;
      }
   }

   &__image-preview {
      position: relative;
      width: 200px;
      height: 150px;
      border: 2px dashed $border-color;
      border-radius: $border-radius;
      overflow: hidden;

      &:hover .product-detail__image-overlay {
         opacity: 1;
      }
   }

   &__preview-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
   }

   &__image-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.2s ease;
   }

   &__upload-controls {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: $spacing-sm;
   }

   &__upload-hint {
      font-size: $font-size-xs;
      color: $text-muted;
      margin: 0;
   }

   &__variants-manager {
      display: flex;
      flex-direction: column;
      gap: $spacing-lg;
   }

   &__variant-item {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
      padding: $spacing-lg;
      border: 1px solid $border-color;
      border-radius: $border-radius;
      background-color: $background-white;
   }

   &__variant-title {
      font-size: $font-size-lg;
      font-weight: 600;
      color: $text-primary;
      margin: 0;
      border-bottom: 1px solid $border-color;
      padding-bottom: $spacing-sm;
   }

   &__colors-manager {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
   }

   &__color-item {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr;
      align-items: center;
      gap: $spacing-md;
      padding: $spacing-md;
      border: 1px solid $border-color;
      border-radius: $border-radius;
   }

   &__color-info {
      display: flex;
      align-items: center;
      gap: $spacing-sm;
      flex: 1;
   }

   &__color-gallery {
      display: flex;
      flex-direction: column;
   }

   &__color-img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: $border-radius-small;
      border: 1px solid $border-color;
   }

   /* Preview Panel */
   &__preview-panel {
      height: fit-content;
      transition: all 0.3s ease;
      margin: 0 auto;
      position: relative;
      top: 0;

      &--small {
         top: 40px;
      }
   }

   &__preview-header {
      display: flex;
      justify-content: space-between;
      padding: $spacing-md $spacing-lg;
      border-bottom: 1px solid $border-color;
      background-color: $background-light;
   }

   &__preview-title {
      font-size: $font-size-lg;
      font-weight: 600;
      color: $text-primary;
      display: flex;
      align-items: center;
      gap: $spacing-sm;

      i {
         color: $primary-color;
      }
   }

   &__preview-content {
      padding: $spacing-lg;
   }

   &__product-view {
      width: 100%;
   }

   &__product-header {
      margin-bottom: $spacing-lg;
   }

   &__product-title {
      font-size: $font-size-xl;
      font-weight: 600;
      color: $text-primary;
      margin-bottom: $spacing-sm;
      line-height: 1.3;
   }

   &__product-rating {
      display: flex;
      align-items: center;
      gap: $spacing-sm;
      flex-wrap: wrap;
   }

   &__stars {
      display: flex;
      gap: 2px;

      i {
         color: #ffc107;
         font-size: $font-size-sm;
      }
   }

   &__rating-text,
   &__review-count,
   &__sold-count {
      font-size: $font-size-sm;
      color: $text-secondary;
   }

   &__product-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: $spacing-lg;

      @media (max-width: 768px) {
         grid-template-columns: 1fr;
      }
   }

   &__product-image {
      display: flex;
      flex-direction: column;
      gap: $spacing-sm;
   }

   &__main-img {
      width: 100%;
      height: 440px;
      object-fit: contain;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
   }

   &__image-thumbnails {
      display: flex;
      justify-content: center;
      gap: $spacing-xs;
      flex-wrap: nowrap;
      overflow-x: auto;
   }

   &__thumbnail {
      height: 60px;
      object-fit: cover;
      border-radius: $border-radius-small;
      border: 1px solid $border-color;
      cursor: pointer;

      &:hover,
      &.active {
         opacity: 1;
         border-color: $primary-color;
      }
   }

   &__product-info {
      display: flex;
      flex-direction: column;
      gap: $spacing-lg;
   }

   &__variant-selectors {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
   }

   &__variant-selector {
      display: flex;
      flex-direction: column;
      gap: $spacing-xs;
   }

   &__variant-label {
      font-weight: 500;
      font-size: $font-size-sm;
      color: $text-primary;
   }

   &__color-options,
   &__size-options {
      display: flex;
      gap: $spacing-xs;
      flex-wrap: wrap;
   }

   &__color-option,
   &__size-option {
      padding: $spacing-xs $spacing-sm;
      border: 1px solid $border-color;
      border-radius: $border-radius-small;
      background-color: $background-white;
      font-size: $font-size-sm;
      cursor: pointer;
      transition: all 0.2s ease;

      &:hover {
         border-color: $primary-color;
      }

      &--active {
         border-color: $primary-color;
         background-color: rgba($primary-color, 0.1);
         color: $primary-color;
      }
   }

   &__price-section {
      display: flex;
      align-items: baseline;
      gap: $spacing-sm;
   }

   &__current-price {
      font-size: $font-size-xxl;
      font-weight: 700;
      color: $danger-color;
   }

   &__original-price {
      font-size: $font-size-lg;
      color: $text-muted;
      text-decoration: line-through;
   }

   &__discount {
      font-size: $font-size-sm;
      color: $danger-color;
      font-weight: 600;
      background-color: rgba($danger-color, 0.1);
      padding: $spacing-xs $spacing-sm;
      border-radius: $border-radius-small;
   }

   &__description {
      margin: $spacing-md 0;

      p {
         color: $text-secondary;
         line-height: 1.6;
         margin: 0;
      }
   }

   &__features {
      margin: $spacing-lg 0;
   }

   &__features-title {
      font-size: $font-size-lg;
      font-weight: 600;
      color: $text-primary;
      margin-bottom: $spacing-md;
   }

   &__feature-list {
      display: flex;
      flex-direction: column;
      gap: $spacing-sm;
   }

   &__feature {
      display: flex;
      align-items: center;
      gap: $spacing-sm;
      padding: $spacing-sm;
      background-color: $background-light;
      border-radius: $border-radius-small;

      &-icon {
         color: $primary-color;
         font-size: $font-size-base;
         width: 20px;
         text-align: center;
      }
   }

   &__specs {
      margin: $spacing-lg 0;
   }

   &__specs-title {
      font-size: $font-size-lg;
      font-weight: 600;
      color: $text-primary;
      margin-bottom: $spacing-md;
   }

   &__specs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: $spacing-sm;
   }

   &__spec {
      display: flex;
      align-items: center;
      gap: $spacing-sm;
      padding: $spacing-sm;
      background-color: $background-light;
      border-radius: $border-radius-small;

      &-icon {
         color: $primary-color;
         font-size: $font-size-lg;
         width: 24px;
         text-align: center;
      }

      &-content {
         display: flex;
         flex-direction: column;
      }

      &-label {
         font-size: $font-size-xs;
         color: $text-muted;
         font-weight: 500;
      }

      &-value {
         font-size: $font-size-sm;
         color: $text-primary;
         font-weight: 600;
      }
   }
}
